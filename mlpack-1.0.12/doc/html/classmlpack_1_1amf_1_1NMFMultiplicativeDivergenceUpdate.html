<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>mlpack: mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mlpack
   &#160;<span id="projectnumber">1.0.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemlpack.html">mlpack</a></li><li class="navelem"><a class="el" href="namespacemlpack_1_1amf.html">amf</a></li><li class="navelem"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html">NMFMultiplicativeDivergenceUpdate</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mlpack::amf::NMFMultiplicativeDivergenceUpdate Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D.  
 <a href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a989aecc76d2b526557e030c7e63506ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a989aecc76d2b526557e030c7e63506ff">NMFMultiplicativeDivergenceUpdate</a> ()</td></tr>
<tr class="separator:a989aecc76d2b526557e030c7e63506ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433e74ab6d94802e68aa9123c655b7cf"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:a433e74ab6d94802e68aa9123c655b7cf"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a433e74ab6d94802e68aa9123c655b7cf">Initialize</a> (const MatType &amp;dataset, const size_t rank)</td></tr>
<tr class="separator:a433e74ab6d94802e68aa9123c655b7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:a4d74e4fe86c3eacf1567be69950fd616"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a4d74e4fe86c3eacf1567be69950fd616">HUpdate</a> (const MatType &amp;V, const arma::mat &amp;W, arma::mat &amp;H)</td></tr>
<tr class="memdesc:a4d74e4fe86c3eacf1567be69950fd616"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the encoding matrix H.  <a href="#a4d74e4fe86c3eacf1567be69950fd616">More...</a><br/></td></tr>
<tr class="separator:a4d74e4fe86c3eacf1567be69950fd616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplParams" colspan="2">template&lt;typename MatType &gt; </td></tr>
<tr class="memitem:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmlpack_1_1amf_1_1NMFMultiplicativeDivergenceUpdate.html#a9d17481f4277050bc0cfe4d2fddb54d8">WUpdate</a> (const MatType &amp;V, arma::mat &amp;W, const arma::mat &amp;H)</td></tr>
<tr class="memdesc:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The update rule for the basis matrix W.  <a href="#a9d17481f4277050bc0cfe4d2fddb54d8">More...</a><br/></td></tr>
<tr class="separator:a9d17481f4277050bc0cfe4d2fddb54d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This follows a method described in the paper 'Algorithms for Non-negative Matrix Factorization' by D. </p>
<p>D. Lee and H. S. Seung. This is a multiplicative rule that ensures that the Kullbackâ€“Leibler divergence <img class="formulaInl" alt="$ \sum_i \sum_j (V_{ij} log\frac{V_{ij}}{(WH)_{ij}}-V_{ij}+(WH)_{ij}) $" src="form_53.png"/> is non-increasing between subsequent iterations. Both of the update rules for W and H are defined in this file.</p>
<p>This set of update rules is not meant to work with sparse matrices. Using sparse matrices often causes NaNs in the output, so other choices of update rules are better in that situation. </p>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00034">34</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a989aecc76d2b526557e030c7e63506ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mlpack::amf::NMFMultiplicativeDivergenceUpdate::NMFMultiplicativeDivergenceUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00038">38</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4d74e4fe86c3eacf1567be69950fd616"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::HUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em>H</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The update rule for the encoding matrix H. </p>
<p>The formula used is </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ H_{a\mu} \leftarrow H_{a\mu} \frac{\sum_{i} W_{ia} V_{i\mu}/(WH)_{i\mu}} {\sum_{k} H_{ka}} \]" src="form_55.png"/>
</p>
<p> The function takes in all the matrices and only changes the value of the H matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td>Input matrix to be factorized. </td></tr>
    <tr><td class="paramname">W</td><td>Basis matrix. </td></tr>
    <tr><td class="paramname">H</td><td>Encoding matrix to updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00103">103</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a433e74ab6d94802e68aa9123c655b7cf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mlpack::amf::NMFMultiplicativeDivergenceUpdate::Initialize </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00041">41</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9d17481f4277050bc0cfe4d2fddb54d8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MatType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mlpack::amf::NMFMultiplicativeDivergenceUpdate::WUpdate </td>
          <td>(</td>
          <td class="paramtype">const MatType &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">arma::mat &amp;&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>H</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The update rule for the basis matrix W. </p>
<p>The formula used is </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ W_{ia} \leftarrow W_{ia} \frac{\sum_{\mu} H_{a\mu} V_{i\mu}/(WH)_{i\mu}} {\sum_{\nu} H_{a\nu}} \]" src="form_54.png"/>
</p>
<p> The function takes in all the matrices and only changes the value of the W matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td>Input matrix to be factorized. </td></tr>
    <tr><td class="paramname">W</td><td>Basis matrix to be updated. </td></tr>
    <tr><td class="paramname">H</td><td>Encoding matrix. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nmf__mult__div_8hpp_source.html#l00061">61</a> of file <a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/mlpack/methods/amf/update_rules/<a class="el" href="nmf__mult__div_8hpp_source.html">nmf_mult_div.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 14 2015 19:43:03 for mlpack by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
