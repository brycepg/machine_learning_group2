\section{mlpack\-:\-:amf\-:\-:N\-M\-F\-Multiplicative\-Distance\-Update Class Reference}
\label{classmlpack_1_1amf_1_1NMFMultiplicativeDistanceUpdate}\index{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}}


The multiplicative distance update rules for matrices W and H.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf N\-M\-F\-Multiplicative\-Distance\-Update} ()
\item 
{\footnotesize template$<$typename Mat\-Type $>$ }\\void {\bf Initialize} (const Mat\-Type \&dataset, const size\-\_\-t rank)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Mat\-Type $>$ }\\static void {\bf H\-Update} (const Mat\-Type \&V, const arma\-::mat \&W, arma\-::mat \&H)
\begin{DoxyCompactList}\small\item\em The update rule for the encoding matrix H. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Mat\-Type $>$ }\\static void {\bf W\-Update} (const Mat\-Type \&V, arma\-::mat \&W, const arma\-::mat \&H)
\begin{DoxyCompactList}\small\item\em The update rule for the basis matrix W. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The multiplicative distance update rules for matrices W and H. 

This follows a method described in the paper 'Algorithms for Non-\/negative Matrix Factorization' by D. D. Lee and H. S. Seung. This is a multiplicative rule that ensures that the Frobenius norm $ \sqrt{\sum_i \sum_j(V-WH)^2} $ is non-\/increasing between subsequent iterations. Both of the update rules for W and H are defined in this file. 

Definition at line 30 of file nmf\-\_\-mult\-\_\-dist.\-hpp.



\subsection{Constructor \& Destructor Documentation}
\index{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}!N\-M\-F\-Multiplicative\-Distance\-Update@{N\-M\-F\-Multiplicative\-Distance\-Update}}
\index{N\-M\-F\-Multiplicative\-Distance\-Update@{N\-M\-F\-Multiplicative\-Distance\-Update}!mlpack::amf::NMFMultiplicativeDistanceUpdate@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}}
\subsubsection[{N\-M\-F\-Multiplicative\-Distance\-Update}]{\setlength{\rightskip}{0pt plus 5cm}mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update\-::\-N\-M\-F\-Multiplicative\-Distance\-Update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1amf_1_1NMFMultiplicativeDistanceUpdate_a8c702dd8bd0b59187f2ad57c90e774ad}


Definition at line 34 of file nmf\-\_\-mult\-\_\-dist.\-hpp.



\subsection{Member Function Documentation}
\index{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}!H\-Update@{H\-Update}}
\index{H\-Update@{H\-Update}!mlpack::amf::NMFMultiplicativeDistanceUpdate@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}}
\subsubsection[{H\-Update}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Mat\-Type $>$ static void mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update\-::\-H\-Update (
\begin{DoxyParamCaption}
\item[{const Mat\-Type \&}]{V, }
\item[{const arma\-::mat \&}]{W, }
\item[{arma\-::mat \&}]{H}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\label{classmlpack_1_1amf_1_1NMFMultiplicativeDistanceUpdate_a32469c2f51f5b0859aff74db2fe136ab}


The update rule for the encoding matrix H. 

The formula used is \[ H_{a\mu} \leftarrow H_{a\mu} \frac{(W^T V)_{a\mu}}{(W^T WH)_{a\mu}} \] The function takes in all the matrices and only changes the value of the H matrix.


\begin{DoxyParams}{Parameters}
{\em V} & Input matrix to be factorized. \\
\hline
{\em W} & Basis matrix. \\
\hline
{\em H} & Encoding matrix to be updated. \\
\hline
\end{DoxyParams}


Definition at line 76 of file nmf\-\_\-mult\-\_\-dist.\-hpp.

\index{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!mlpack::amf::NMFMultiplicativeDistanceUpdate@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}}
\subsubsection[{Initialize}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Mat\-Type $>$ void mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update\-::\-Initialize (
\begin{DoxyParamCaption}
\item[{const Mat\-Type \&}]{dataset, }
\item[{const size\-\_\-t}]{rank}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classmlpack_1_1amf_1_1NMFMultiplicativeDistanceUpdate_aac388915da84ba7bba17c85dccbcf9b7}


Definition at line 37 of file nmf\-\_\-mult\-\_\-dist.\-hpp.

\index{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}!W\-Update@{W\-Update}}
\index{W\-Update@{W\-Update}!mlpack::amf::NMFMultiplicativeDistanceUpdate@{mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update}}
\subsubsection[{W\-Update}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Mat\-Type $>$ static void mlpack\-::amf\-::\-N\-M\-F\-Multiplicative\-Distance\-Update\-::\-W\-Update (
\begin{DoxyParamCaption}
\item[{const Mat\-Type \&}]{V, }
\item[{arma\-::mat \&}]{W, }
\item[{const arma\-::mat \&}]{H}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\label{classmlpack_1_1amf_1_1NMFMultiplicativeDistanceUpdate_a51f2ef4143c9cb8e2faed2009f2b5fce}


The update rule for the basis matrix W. 

The formula used is \[ W_{ia} \leftarrow W_{ia} \frac{(VH^T)_{ia}}{(WHH^T)_{ia}} \] The function takes in all the matrices and only changes the value of the W matrix.


\begin{DoxyParams}{Parameters}
{\em V} & Input matrix to be factorized. \\
\hline
{\em W} & Basis matrix to be updated. \\
\hline
{\em H} & Encoding matrix. \\
\hline
\end{DoxyParams}


Definition at line 56 of file nmf\-\_\-mult\-\_\-dist.\-hpp.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/mlpack/methods/amf/update\-\_\-rules/{\bf nmf\-\_\-mult\-\_\-dist.\-hpp}\end{DoxyCompactItemize}
